<app-navbar></app-navbar>

<section class="co-page">
  <div class="co-container">
    <header class="co-header">
      <h2>Review & Pay</h2>
      <p>Confirm passenger details before checkout.</p>
    </header>

    <div class="co-grid">
      <!-- Passenger cards -->
      <div class="co-list">
        @for (p of passengersData; let i = $index; track i) {
          <article class="card">
            <header class="card__head">
              <div class="card__title">
                <h4 class="name">{{ p.firstName }} {{ p.lastName }}</h4>
                <div class="sub">Passenger #{{ i + 1 }}</div>
              </div>
            </header>

            <dl class="details">
              <div class="row">
                <dt>Passport</dt>
                <dd>{{ p.passportNumber }}</dd>
              </div>
              <div class="row">
                <dt>Age</dt>
                <dd>{{ p.age }}</dd>
              </div>
            </dl>
          </article>
        } @empty {
          <p class="co-empty">No passengers added.</p>
        }
      </div>

      <!-- Summary -->
      <aside class="co-summary">
        <div class="co-summary__card">
          <div class="co-line">
            <span>Total Price</span>
            <strong class="co-total">€{{ price }}</strong>
          </div>

          <button class="co-btn co-btn--primary"
                  (click)="pay()"
                  [disabled]="loading">
            {{ loading ? 'Processing…' : 'Checkout' }}
          </button>

          <p class="co-note">You’ll be redirected to complete payment securely.</p>
        </div>
      </aside>
    </div>
  </div>
</section>
